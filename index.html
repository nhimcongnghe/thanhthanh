<!DOCTYPE html>
<html lang="vi" class="scroll-smooth">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Chang Chang Streamer - Ngầu Lòi</title>
    <meta name="color-scheme" content="dark light" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Tùy chỉnh CSS để cố định UI chính */
        body, html {
            overflow-x: hidden;
            position: relative;
        }

        :root { 
            --ring: 44 100% 50%;
            --cyan-400: #22d3ee;
            --fuchsia-500: #f472b6;
            --rose-500: #f43f5e;
            --purple-400: #a78bfa;
        }

        body { 
            font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif; 
            /* Đảm bảo nội dung chính không bị xê dịch */
            position: relative;
            z-index: 1; /* Đẩy nội dung chính lên trên lớp nền */
        }

        /* Các hiệu ứng nền được cố định */
        .aurora {
            position: fixed; /* Đặt cố định theo viewport */
            top: 50%;
            left: 50%;
            width: 200vw;
            height: 200vh;
            z-index: -1;
            filter: blur(90px);
            opacity: .5;
            background: conic-gradient(from 180deg at 50% 50%, var(--cyan-400), var(--purple-400), var(--fuchsia-500), var(--cyan-400));
            animation: spin 10s linear infinite; /* Đã điều chỉnh tốc độ quay nhanh hơn */
            will-change: transform; /* Tối ưu hóa hiệu suất animation */
        }

        /* Hiệu ứng gradient nền bổ sung */
        .fixed-gradient-background {
            position: fixed; /* Cố định tương tự aurora */
            inset: 0;
            z-index: -1;
            background: radial-gradient(60% 60% at 10% 10%, rgba(168,85,247,.15), transparent), radial-gradient(40% 40% at 90% 10%, rgba(34,211,238,.12), transparent), radial-gradient(40% 40% at 50% 90%, rgba(236,72,153,.10), transparent);
        }

        /* Đã sửa keyframes để kết hợp translate và rotate */
        @keyframes spin { 
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); } 
        }

        /* Glass effect reverted to original boilerplate properties */
        .glass { backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); border: 1px solid rgba(255,255,255,.12); background: rgba(255,255,255,.04); }
        .glass-light { backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); border: 1px solid rgba(0,0,0,.08); background: rgba(255,255,255,.7); }

        /* Focus ring reverted to original boilerplate */
        .ring-focus:focus-visible { outline: none; box-shadow: 0 0 0 6px hsl(var(--ring) / .25); }

        /* Slide-in animation for gallery */
        .slide-in-right {
            transform: translateX(100%);
            opacity: 0;
            transition: transform 0.6s ease-out, opacity 0.6s ease-out;
        }
        .slide-in-right.visible {
            transform: translateX(0);
            opacity: 1;
        }

        /* Hero section specific styling adjustments */
        #hero h1 { font-family: 'Pacifico', cursive; }
        #hero h1 .gradient-text {
            background: linear-gradient(to right, var(--cyan-400), var(--fuchsia-500), var(--rose-500));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        #hero .btn-primary-gradient {
            background: linear-gradient(to right, var(--cyan-400), var(--fuchsia-500));
            color: theme('colors.neutral.900');
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        #hero .btn-primary-gradient:hover {
            transform: scale(1.02);
            box-shadow: theme('boxShadow.lg');
        }
        #hero .btn-secondary {
            border: 1px solid rgba(255,255,255,.15);
            color: rgba(255,255,255,.9);
            transition: background-color 0.3s ease;
        }
        #hero .btn-secondary:hover { background-color: rgba(255,255,255,.1); }

        /* Gallery image adjustments */
        #zone-2 img {
            border: 2px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        #zone-2 img:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 8px 25px rgba(34, 211, 238, 0.4);
        }

        /* Styling for the call-to-action button in Zone 3 */
        #zone-3 .btn-primary-gradient {
            background: linear-gradient(to right, var(--cyan-400), var(--fuchsia-500));
            color: theme('colors.neutral.900');
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        #zone-3 .btn-primary-gradient:hover {
            transform: scale(1.02);
            box-shadow: theme('boxShadow.lg');
        }

        /* Ensure correct text colors based on Tailwind for sections */
        section h2, section h3 { color: theme('colors.neutral.100'); }
        body:not(.dark) section h2, body:not(.dark) section h3 { color: theme('colors.neutral.900'); }
        section p { color: theme('colors.neutral.300'); }
        body:not(.dark) section p { color: theme('colors.neutral.700'); }

        /* Nav text colors */
        header #nav nav a { color: theme('colors.neutral.300'); }
        header #nav nav a:hover { color: theme('colors.white'); }

        /* Theme toggle button text color */
        #themeToggle { }

        /* Footer text color */
        footer p { color: theme('colors.neutral.400'); }

        /* Styles for the audio player container */
        .audio-player-container-footer {
            margin-top: 2rem;
            margin-bottom: 2rem;
            display: flex;
            justify-content: center;
        }
        .audio-player-footer {
            width: 100%;
            max-width: 400px;
            background: rgba(255,255,255,.08);
            border-radius: 9999px;
            padding: 0.5rem 1rem;
            border: 1px solid rgba(255,255,255,.12);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
        }
        .audio-player-footer::-webkit-media-controls-panel { background-color: transparent !important; color: white !important; }
        .audio-player-footer::-webkit-media-controls-play-button, .audio-player-footer::-webkit-media-controls-current-time-display, .audio-player-footer::-webkit-media-controls-time-remaining-display, .audio-player-footer::-webkit-media-controls-timeline, .audio-player-footer::-webkit-media-controls-volume-slider { color: white !important; filter: none !important; }

        /* Light mode adjustments for audio player */
        body:not(.dark) .audio-player-footer {
            background: rgba(255,255,255,.7);
            border: 1px solid rgba(0,0,0,.08);
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        body:not(.dark) .audio-player-footer::-webkit-media-controls-panel { background-color: transparent !important; color: #333 !important; }
        body:not(.dark) .audio-player-footer::-webkit-media-controls-play-button, body:not(.dark) .audio-player-footer::-webkit-media-controls-current-time-display, body:not(.dark) .audio-player-footer::-webkit-media-controls-time-remaining-display, body:not(.dark) .audio-player-footer::-webkit-media-controls-timeline, body:not(.dark) .audio-player-footer::-webkit-media-controls-volume-slider { filter: none !important; color: #333 !important; }

        /* Heart effect styling */
        .heart-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
            z-index: 9999;
        }
        .heart {
            position: absolute;
            font-size: 20px;
            color: #f472b6;
            animation: floatEverywhere ease-out forwards; 
            opacity: 0;
            text-shadow: 0 0 5px rgba(255,255,255,0.5);
            transform: scale(0.5);
        }
        @keyframes floatEverywhere {
            0% { opacity: 0; transform: scale(0.5) translateX(0) translateY(0) rotate(0deg); }
            20% { opacity: 1; }
            100% { opacity: 0; transform: scale(1.5) translateX(var(--offset-x)) translateY(var(--offset-y)) rotate(var(--rotate-end, 0deg)); }
        }

        /* CSS cho khung ảnh đầu tiên (hero image) */
        .hero-image-frame {
            position: relative;
            /* Thêm box-shadow ban đầu */
            box-shadow: 0 0 20px rgba(34, 211, 238, 0.4), 0 0 40px rgba(244, 114, 182, 0.3); /* Cyan và Fuchsia glow */
            animation: heartbeat-glow 1.5s infinite alternate ease-in-out; /* Hiệu ứng tim đập, tốc độ 1.5s */
        }

        /* Keyframes cho hiệu ứng tim đập trên viền */
        @keyframes heartbeat-glow {
            0% {
                box-shadow: 
                    0 0 20px rgba(34, 211, 238, 0.4), /* Cyan */
                    0 0 40px rgba(244, 114, 182, 0.3); /* Fuchsia */
            }
            25% {
                box-shadow: 
                    0 0 30px rgba(34, 211, 238, 0.6), /* Sáng hơn và lan tỏa hơn */
                    0 0 50px rgba(244, 114, 182, 0.5); /* Sáng hơn và lan tỏa hơn */
            }
            50% {
                box-shadow: 
                    0 0 20px rgba(34, 211, 238, 0.4),
                    0 0 40px rgba(244, 114, 182, 0.3);
            }
            75% {
                box-shadow: 
                    0 0 25px rgba(34, 211, 238, 0.5), /* Sáng vừa và lan tỏa vừa */
                    0 0 45px rgba(244, 114, 182, 0.4); /* Sáng vừa và lan tỏa vừa */
            }
            100% {
                box-shadow: 
                    0 0 20px rgba(34, 211, 238, 0.4),
                    0 0 40px rgba(244, 114, 182, 0.3);
            }
        }
    </style>
</head>
<body class="min-h-screen bg-neutral-950 relentlessly text-neutral-100 antialiased selection:bg-fuchsia-500/20 selection:text-white">
    <!-- Nền cố định -->
    <div class="aurora"></div>
    <div class="fixed-gradient-background"></div>

    <header id="nav" class="sticky top-0 z-50">
        <div class="mx-auto max-w-7xl px-4">
            <div class="mt-4 mb-3 flex items-center justify-between rounded-2xl glass px-4 py-3 transition-all dark:glass">
                <a href="#" class="flex items-center gap-2">
                    <span class="inline-flex h-8 w-8 items-center justify-center rounded-xl bg-gradient-to-tr from-cyan-400 to-fuchsia-500 text-neutral-900 font-extrabold">C</span>
                    <span class="text-lg font-semibold tracking-wide">Chang&nbsp;Chang</span>
                </a>
                <nav class="hidden gap-6 md:flex text-sm text-neutral-300">
                    <a href="#hero" class="hover:text-white">Giới thiệu</a>
                    <a href="#zone-1" class="hover:text-white">Kênh Stream</a>
                    <a href="#zone-2" class="hover:text-white">Khoảnh khắc</a>
                    <a href="#zone-3" class="hover:text-white">Kết nối</a>
                </nav>
                <div class="flex items-center gap-2">
                    <button id="themeToggle" class="ring-focus rounded-xl px-3 py-2 text-sm glass hover:bg-white/10">Đổi theme</button>
                </div>
            </div>
        </div>
    </header>

    <section id="hero" class="relative">
        <div class="mx-auto grid max-w-7xl items-center gap-10 px-4 py-16 md:grid-cols-2 md:py-24">
            <div>
                <span class="inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs text-neutral-300">Chào bạn đến với thế giới của Chang Chang! ✨</span>
                <h1 class="mt-4 text-4xl font-extrabold leading-tight md:text-6xl">
                    Sống động cùng <span class="gradient-text">Chang Chang</span>
                </h1>
                <p class="mt-4 max-w-xl text-neutral-300">Cô nàng streamer đầy năng lượng, mang đến những buổi stream đáng yêu, những khoảnh khắc gaming hài hước và những tràng cười sảng khoái!</p>
                <div class="mt-6 flex flex-wrap gap-3">
                    <a id="cta" href="#zone-1" class="rounded-2xl px-5 py-3 font-semibold shadow-lg transition btn-primary-gradient">Khám phá kênh</a>
                    <a href="https://www.tiktok.com/@thuytrang11060?lang=vi-VN" target="_blank" class="rounded-2xl border px-5 py-3 font-semibold btn-secondary">Theo dõi TikTok</a>
                </div>
            </div>
            <div class="relative">
                <!-- Đã thêm class 'hero-image-frame' vào thẻ figure -->
                <figure class="aspect-[16/10] w-full overflow-hidden rounded-3xl border border-white/10 bg-black/40 shadow-2xl hero-image-frame">
                    <img src="https://sv2.anhsieuviet.com/2025/08/19/5efa0c29d3c66a0ea.jpg" alt="Ảnh đại diện Chang Chang" class="h-full w-full object-cover" loading="lazy" />
                </figure>
            </div>
        </div>
    </section>

    <main class="mx-auto max-w-7xl px-4">
        <section id="zone-1" class="relative mb-16 rounded-3xl border border-white/10 bg-white/5 p-6 md:p-10">
            <div class="absolute inset-x-0 -top-14 mx-auto h-28 w-28 rounded-3xl bg-gradient-to-tr from-cyan-400/20 to-fuchsia-500/20 blur-2xl"></div>
            <header class="mb-6 flex items-end justify-between gap-4">
                <h2 class="text-2xl font-bold tracking-tight md:text-3xl">Kênh Stream của Chang Chang</h2>
                <span class="text-xs text-neutral-400">// Game, Chém gió & Vui vẻ</span>
            </header>
            <div class="grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3">
                <article class="group rounded-2xl border border-white/10 p-5 transition hover:-translate-y-1 hover:bg-white/5">
                    <div class="mb-3 aspect-[16/9] overflow-hidden rounded-xl bg-neutral-900">
                        <img src="https://sv2.anhsieuviet.com/2025/08/19/68b586c82c508d0e3.jpg" alt="Gaming Highlights" class="h-full w-full object-cover">
                    </div>
                    <h3 class="font-semibold">Những pha tấu hài đỉnh cao</h3>
                    <p class="mt-1 text-sm text-neutral-300">Cùng Chang Chang trải nghiệm những khoảnh khắc ấn tượng trong các buổi live nhé😊</p>
                </article>
                <article class="group rounded-2xl border border-white/10 p-5 transition hover:-translate-y-1 hover:bg-white/5">
                    <div class="mb-3 aspect-[16/9] overflow-hidden rounded-xl bg-neutral-900">
                        <img src="https://sv2.anhsieuviet.com/2025/08/19/75207731ac1a0a0c4.jpg" alt="Chatting Fun" class="h-full w-full object-cover">
                    </div>
                    <h3 class="font-semibold">Chém gió xuyên màn đêm</h3>
                    <p class="mt-1 text-sm text-neutral-300">Nơi Chang Chang chia sẻ câu chuyện, lắng nghe và giao lưu cùng bạn bè.</p>
                </article>
                <article class="group rounded-2xl border border-white/10 p-5 transition hover:-translate-y-1 hover:bg-white/5">
                    <div class="mb-3 aspect-[16/9] overflow-hidden rounded-xl bg-neutral-900">
                        <img src="https://sv2.anhsieuviet.com/2025/08/19/868882f5e2780be81.jpg" alt="Special Events" class="h-full w-full object-cover">
                    </div>
                    <h3 class="font-semibold">Các sự kiện đặc biệt</h3>
                    <p class="mt-1 text-sm text-neutral-300">Đừng bỏ lỡ những buổi stream sự kiện, mini game hay những màn cover bất ngờ từ Chang Chang!</p>
                </article>
            </div>
        </section>
        
        <section id="zone-2" class="mb-16">
            <header class="mb-6 flex items-end justify-between gap-4">
                <h2 class="text-2xl font-bold tracking-tight md:text-3xl">Khoảnh khắc đáng yêu</h2>
                <span class="text-xs text-neutral-400">// Bộ sưu tập ảnh & video</span>
            </header>
            <div class="grid grid-cols-2 gap-3 md:grid-cols-3 lg:grid-cols-6">
                <img class="h-28 w-full rounded-xl object-cover slide-in-right" loading="lazy" src="https://sv2.anhsieuviet.com/2025/08/19/1fb991e3bfad78ca5.jpg" alt="Khoảnh khắc 1"/>
                <img class="h-28 w-full rounded-xl object-cover slide-in-right" loading="lazy" src="https://sv2.anhsieuviet.com/2025/08/19/28ee542689f01a15e.jpg" alt="Khoảnh khắc 2"/>
                <img class="h-28 w-full rounded-xl object-cover slide-in-right" loading="lazy" src="https://sv2.anhsieuviet.com/2025/08/19/4d3b84cecd0419268.jpg" alt="Khoảnh khắc 3"/>
                <img class="h-28 w-full rounded-xl object-cover slide-in-right" loading="lazy" src="https://sv2.anhsieuviet.com/2025/08/19/9437606a931c32d47.jpg" alt="Khoảnh khắc 4"/>
                <img class="h-28 w-full rounded-xl object-cover slide-in-right" loading="lazy" src="https://sv2.anhsieuviet.com/2025/08/19/10fbe8f292987b9471.jpg" alt="Khoảnh khắc 5"/>
                <img class="h-28 w-full rounded-xl object-cover slide-in-right" loading="lazy" src="https://images.unsplash.com/photo-1542728928-1413d1894ed1?q=80&w=500&auto=format&fit=crop" alt="Khoảnh khắc 6"/>
            </div>
        </section>

        <section id="zone-3" class="relative mb-20 overflow-hidden rounded-3xl border border-white/10 p-8 md:p-12">
            <div class="absolute -left-10 -top-10 h-40 w-40 rounded-full bg-cyan-400/20 blur-2xl"></div>
            <div class="absolute -bottom-10 -right-10 h-40 w-40 rounded-full bg-fuchsia-500/20 blur-2xl"></div>
            <div class="grid items-center gap-8 md:grid-cols-2">
                <div>
                    <h3 class="text-2xl font-bold md:text-3xl">Kết nối cùng Chang Chang!</h3>
                    <p class="mt-2 max-w-prose text-neutral-300">Đừng bỏ lỡ bất kỳ khoảnh khắc nào! Hãy theo dõi Chang Chang trên TikTok và tham gia cộng đồng của cô ấy ngay hôm nay.</p>
                    <div class="mt-6 flex flex-wrap gap-3 social-links-zone3">
                        <a href="https://www.tiktok.com/@thuytrang11060?lang=vi-VN" target="_blank" class="rounded-xl px-4 py-2 font-semibold btn-primary-gradient">TikTok của Chang Chang</a>
                    </div>
                </div>
                <form class="glass rounded-2xl p-5">
                    <label class="mb-2 block text-sm">Email của bạn</label>
                    <input type="email" placeholder="email@example.com" class="ring-focus mb-4 w-full rounded-xl border border-white/10 bg-white/5 px-4 py-2 outline-none placeholder:text-neutral-400" />
                    <label class="mb-2 block text-sm">Lời nhắn cho Chang Chang</label>
                    <textarea placeholder="Bạn muốn nói gì với Chang Chang?" rows="3" class="ring-focus mb-4 w-full rounded-xl border border-white/10 bg-white/5 px-4 py-2 outline-none placeholder:text-neutral-400"></textarea>
                    <button class="w-full rounded-xl bg-gradient-to-tr from-cyan-400 to-fuchsia-500 px-4 py-2 font-semibold text-neutral-900">Gửi lời nhắn</button>
                </form>
            </div>
        </section>
    </main>
    
    <!-- Audio Player Section - Placed above footer -->
    <div class="audio-player-container-footer mx-auto max-w-4xl px-4">
        <audio id="backgroundAudio" controls autoplay loop class="audio-player-footer">
            <!-- VUI LÒNG THAY THẾ 'YOUR_ACTUAL_DIRECT_AUDIO_LINK_HERE.mp3' BẰNG ĐƯỜNG DẪN TRỰC TIẾP TỚI TỆP MP3 CỦA BẠN. -->
            <source src="https://audio.jukehost.co.uk/b2TV7rTMtGoGvvfYkhppHa0AgmNSbgHn" type="audio/mpeg">
            Trình duyệt của bạn không hỗ trợ phát audio.
        </audio>
    </div>

    <section class="mx-auto max-w-4xl px-4 pb-8">
        <figure class="rounded-3xl border border-white/10 bg-white/5 p-6 text-center">
            <blockquote class="text-balance text-lg text-neutral-300">“Cảm ơn vì đã luôn đồng hành cùng Chang Chang trên mọi chặng đường!”</blockquote>
            <figcaption class="mt-2 text-sm text-neutral-400">#ChangChangFamily</figcaption>
        </figure>
    </section>

    <footer class="border-t border-white/10 py-10 text-center text-sm text-neutral-400">
        <div class="mx-auto max-w-7xl px-4">
            <p>© <span id="year"></span> Chang Chang Streamer. Luôn <span class="text-white">ngầu lòi</span> và đáng yêu.</p>
        </div>
    </footer>

    <!-- Heart Effect Container -->
    <div id="heartContainer" class="heart-container"></div>

    <script>
        // Set current year for footer
        document.getElementById('year').textContent = new Date().getFullYear();

        // Theme Toggle Logic
        const root = document.documentElement;
        const themeKey = 'theme:preferred';
        const applyTheme = (mode) => {
            if (mode === 'dark') {
                root.classList.add('dark');
                document.body.classList.remove('bg-white', 'text-neutral-900');
                document.body.classList.add('bg-neutral-950', 'text-neutral-100');
                document.querySelectorAll('.glass-light').forEach(el => {
                    el.classList.remove('glass-light');
                    el.classList.add('glass');
                });
            } else {
                root.classList.remove('dark');
                document.body.classList.remove('bg-neutral-950', 'text-neutral-100');
                document.body.classList.add('bg-white', 'text-neutral-900');
                document.querySelectorAll('.glass').forEach(el => {
                    el.classList.remove('glass');
                    el.classList.add('glass-light');
                });
            }
        };

        const systemDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        const savedTheme = localStorage.getItem(themeKey);
        applyTheme(savedTheme ?? (systemDark ? 'dark' : 'light'));

        document.getElementById('themeToggle').addEventListener('click', () => {
            const nextTheme = root.classList.contains('dark') ? 'light' : 'dark';
            localStorage.setItem(themeKey, nextTheme);
            applyTheme(nextTheme);
        });

        // Sticky Nav Shadow Logic
        const nav = document.getElementById('nav');
        const onScroll = () => {
            const box = nav.querySelector('div>div');
            if (window.scrollY > 10) { box.classList.add('shadow-2xl'); }
            else { box.classList.remove('shadow-2xl'); }
        };
        window.addEventListener('scroll', onScroll, { passive: true }); onScroll();
        
        // Image Slide-in Animation Logic
        const images = document.querySelectorAll('#zone-2 img');
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    observer.unobserve(entry.target);
                }
            });
        }, {
            threshold: 0.1
        });
        images.forEach(image => {
            observer.observe(image);
        });

        // Heart Effect Logic
        const audioPlayer = document.getElementById('backgroundAudio');
        const heartContainer = document.getElementById('heartContainer');
        let heartInterval; // To store the interval ID

        function createHeart() {
            const heart = document.createElement('div');
            heart.classList.add('heart');
            heart.innerHTML = '❤️'; // Or any other heart emoji or SVG

            // Randomize starting position anywhere on the screen
            const startX = Math.random() * window.innerWidth;
            const startY = Math.random() * window.innerHeight; // Start from any vertical position
            heart.style.left = `${startX}px`;
            heart.style.top = `${startY}px`; // Use top for starting vertical position

            // Randomize size
            const size = Math.random() * 20 + 15; // From 15px to 35px
            heart.style.fontSize = `${size}px`;

            // Randomize animation duration
            const duration = Math.random() * 3 + 4; // From 4s to 7s
            heart.style.animationDuration = `${duration}s`;

            // Randomize animation delay (so they don't all start at once)
            const delay = Math.random() * 0.5; // Up to 0.5s delay
            heart.style.animationDelay = `${delay}s`;

            // Define random offsets for the animation
            // These offsets are relative to the heart's starting (left, top) position
            const offsetX = (Math.random() - 0.5) * 400; // Drift left/right by -200px to 200px
            const offsetY = (Math.random() - 0.5) * window.innerHeight * 0.8; // Drift up/down by -40% to 40% of viewport height
            const rotateEnd = (Math.random() - 0.5) * 720; // Rotate by -360 to 360 degrees

            heart.style.setProperty('--offset-x', `${offsetX}px`);
            heart.style.setProperty('--offset-y', `${offsetY}px`);
            heart.style.setProperty('--rotate-end', `${rotateEnd}deg`);

            heartContainer.appendChild(heart);

            // Remove heart after animation to prevent DOM clutter
            heart.addEventListener('animationend', () => {
                heart.remove();
            });
        }

        // Event listener for when the audio starts playing
        audioPlayer.addEventListener('play', () => {
            if (heartInterval) {
                clearInterval(heartInterval);
            }
            // Start generating hearts more frequently
            heartInterval = setInterval(() => {
                createHeart();
            }, Math.random() * 200 + 100); // Between 100ms and 300ms
        });

        // Event listener for when the audio is paused or ended
        audioPlayer.addEventListener('pause', () => {
            if (heartInterval) {
                clearInterval(heartInterval);
                heartInterval = null;
            }
        });

        audioPlayer.addEventListener('ended', () => {
            if (heartInterval) {
                clearInterval(heartInterval);
                heartInterval = null;
            }
        });

        // Ensure hearts stop if page is closed or navigated away (optional, but good practice)
        window.addEventListener('beforeunload', () => {
            if (heartInterval) {
                clearInterval(heartInterval);
            }
        });
    </script>
</body>
</html>
